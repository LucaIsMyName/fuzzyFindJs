(function(p,x){typeof exports=="object"&&typeof module<"u"?x(exports):typeof define=="function"&&define.amd?define(["exports"],x):(p=typeof globalThis<"u"?globalThis:p||self,x(p.FuzzyFindJS={}))})(this,(function(p){"use strict";const x={languages:["english"],features:["phonetic","compound","synonyms","keyboard-neighbors","partial-words","missing-letters","extra-letters","transpositions"],performance:"balanced",maxResults:10,minQueryLength:2,fuzzyThreshold:.75,maxEditDistance:2,ngramSize:3},X={fast:{performance:"fast",features:["partial-words","missing-letters"],maxEditDistance:1,fuzzyThreshold:.9,maxResults:3},balanced:{performance:"balanced",features:["phonetic","partial-words","missing-letters","keyboard-neighbors"],maxEditDistance:2,fuzzyThreshold:.75,maxResults:5},comprehensive:{performance:"comprehensive",features:["phonetic","compound","synonyms","keyboard-neighbors","partial-words","missing-letters","extra-letters","transpositions"],maxEditDistance:3,fuzzyThreshold:.7,maxResults:10}},K={german:["phonetic","compound","synonyms","keyboard-neighbors","partial-words","missing-letters","extra-letters"],english:["phonetic","synonyms","keyboard-neighbors","partial-words","missing-letters","transpositions"],spanish:["phonetic","synonyms","keyboard-neighbors","partial-words","missing-letters"],french:["phonetic","synonyms","keyboard-neighbors","partial-words","missing-letters"]};function Z(n={}){const e={...x};if(n.performance&&n.performance!=="balanced"){const t=X[n.performance];Object.assign(e,t)}const s={...e,...n};if(!n.features&&n.languages){const t=new Set;for(const i of n.languages)(K[i]||K.english).forEach(a=>t.add(a));s.features=Array.from(t)}return s}function me(n){if(n.maxResults<1)throw new Error("maxResults must be at least 1");if(n.minQueryLength<1)throw new Error("minQueryLength must be at least 1");if(n.fuzzyThreshold<0||n.fuzzyThreshold>1)throw new Error("fuzzyThreshold must be between 0 and 1");if(n.maxEditDistance<0)throw new Error("maxEditDistance must be non-negative");if(n.ngramSize<2)throw new Error("ngramSize must be at least 2");if(n.languages.length===0)throw new Error("At least one language must be specified")}class P{normalize(e){return e.toLowerCase().trim().replace(/\s+/g," ")}getPhoneticCode(e){const s=this.normalize(e);if(s.length===0)return"";let t=s[0].toUpperCase();const i={b:"1",f:"1",p:"1",v:"1",c:"2",g:"2",j:"2",k:"2",q:"2",s:"2",x:"2",z:"2",d:"3",t:"3",l:"4",m:"5",n:"5",r:"6"};for(let r=1;r<s.length&&t.length<4;r++){const a=s[r],o=i[a];o&&o!==t[t.length-1]&&(t+=o)}return t.padEnd(4,"0")}splitCompoundWords(e){return[e]}getWordVariants(e){const s=new Set,t=this.normalize(e);s.add(t),s.add(e);const i=this.getCommonEndings();for(const r of i)t.endsWith(r)&&t.length>r.length+2&&s.add(t.slice(0,-r.length));if(t.length>4)for(let r=3;r<t.length;r++)s.add(t.slice(0,r));return Array.from(s)}getCommonEndings(){return["s","es","ed","ing","er","est"]}getSynonyms(e){return[]}isValidSubstitution(e,s){const i=this.getKeyboardNeighbors()[e.toLowerCase()];return i?i.includes(s.toLowerCase()):!1}getKeyboardNeighbors(){return{q:["w","a","s"],w:["q","e","a","s","d"],e:["w","r","s","d","f"],r:["e","t","d","f","g"],t:["r","y","f","g","h"],y:["t","u","g","h","j"],u:["y","i","h","j","k"],i:["u","o","j","k","l"],o:["i","p","k","l"],p:["o","l"],a:["q","w","s","z","x"],s:["q","w","e","a","d","z","x","c"],d:["w","e","r","s","f","x","c","v"],f:["e","r","t","d","g","c","v","b"],g:["r","t","y","f","h","v","b","n"],h:["t","y","u","g","j","b","n","m"],j:["y","u","i","h","k","n","m"],k:["u","i","o","j","l","m"],l:["i","o","p","k"],z:["a","s","x"],x:["a","s","d","z","c"],c:["s","d","f","x","v"],v:["d","f","g","c","b"],b:["f","g","h","v","n"],n:["g","h","j","b","m"],m:["h","j","k","n"]}}generateNgrams(e,s=3){const t=this.normalize(e);if(t.length<s)return[t];const i=[];for(let r=0;r<=t.length-s;r++)i.push(t.slice(r,r+s));return i}calculateEditDistance(e,s){const t=[],i=e.length,r=s.length;for(let a=0;a<=i;a++)t[a]=[a];for(let a=0;a<=r;a++)t[0][a]=a;for(let a=1;a<=i;a++)for(let o=1;o<=r;o++){const c=e[a-1]===s[o-1]?0:1;t[a][o]=Math.min(t[a-1][o]+1,t[a][o-1]+1,t[a-1][o-1]+c)}return t[i][r]}}class W extends P{language="german";displayName="Deutsch";supportedFeatures=["phonetic","compound","synonyms","keyboard-neighbors","partial-words","missing-letters","extra-letters"];normalize(e){return e.toLowerCase().trim().replace(/\s+/g," ").replace(/ä/g,"ae").replace(/ö/g,"oe").replace(/ü/g,"ue").replace(/ß/g,"ss")}getPhoneticCode(e){const s=this.normalize(e);if(s.length===0)return"";let t="",i="";for(let r=0;r<s.length;r++){const a=s[r],o=r<s.length-1?s[r+1]:"";let c="";switch(a){case"a":case"e":case"i":case"j":case"o":case"u":case"y":c="0";break;case"h":continue;case"b":case"p":c="1";break;case"d":case"t":o==="c"||o==="s"||o==="z"?c="8":c="2";break;case"f":case"v":case"w":c="3";break;case"g":case"k":case"q":c="4";break;case"c":r===0?o==="a"||o==="h"||o==="k"||o==="l"||o==="o"||o==="q"||o==="r"||o==="u"||o==="x"?c="4":c="8":i==="s"||i==="z"?c="8":o==="h"||o==="k"||o==="q"?c="4":c="8";break;case"x":i==="c"||i==="k"||i==="q"?c="8":c="48";break;case"l":c="5";break;case"m":case"n":c="6";break;case"r":c="7";break;case"s":case"z":c="8";break;default:continue}c&&c!==i&&(t+=c),i=c}return t||"0"}splitCompoundWords(e){const s=this.normalize(e);if(s.length<6)return[e];const t=[],i=this.getCommonPrefixes(),r=this.getCommonSuffixes(),a=this.getCommonWords();for(const o of i)if(s.startsWith(o)&&s.length>o.length+3){const c=s.slice(o.length);t.push(o),t.push(...this.splitCompoundWords(c));break}if(t.length===0){for(const o of r)if(s.endsWith(o)&&s.length>o.length+3){const c=s.slice(0,-o.length);t.push(...this.splitCompoundWords(c)),t.push(o);break}}if(t.length===0)for(let o=3;o<=s.length-3;o++){const c=s.slice(0,o),l=s.slice(o);if(a.has(c)&&l.length>=3){t.push(c),t.push(...this.splitCompoundWords(l));break}}return t.length>0?t:[e]}getWordVariants(e){const s=new Set,t=this.normalize(e);s.add(t),s.add(e),this.splitCompoundWords(e).forEach(a=>s.add(this.normalize(a)));const r=this.getCommonEndings();for(const a of r)t.endsWith(a)&&t.length>a.length+2&&s.add(t.slice(0,-a.length));if(t.length>4)for(let a=3;a<t.length;a++)s.add(t.slice(0,a));return Array.from(s)}getCommonEndings(){return["en","e","er","n","r","s","es","t","ung","heit","keit","schaft","chen","lein","lich","ig","isch","bar","los","voll"]}getSynonyms(e){const s={arzt:["doktor","mediziner","doc"],krankenhaus:["spital","klinik","hospital"],schule:["bildungseinrichtung","lehranstalt"],auto:["wagen","fahrzeug","pkw"],haus:["gebaeude","heim","wohnhaus"],strasse:["weg","gasse","allee"],stadt:["ort","gemeinde","ortschaft"],arbeit:["job","beruf","taetigkeit"],geld:["waehrung","kapital","finanzen"],zeit:["dauer","periode","zeitraum"]},t=this.normalize(e);return s[t]||[]}getKeyboardNeighbors(){return{q:["w","a","s"],w:["q","e","a","s","d"],e:["w","r","s","d","f"],r:["e","t","d","f","g"],t:["r","z","f","g","h"],z:["t","u","g","h","j"],u:["z","i","h","j","k"],i:["u","o","j","k","l"],o:["i","p","k","l","oe"],p:["o","ue","l","oe"],ue:["p","ae"],a:["q","w","s","y","x"],s:["q","w","e","a","d","y","x","c"],d:["w","e","r","s","f","x","c","v"],f:["e","r","t","d","g","c","v","b"],g:["r","t","z","f","h","v","b","n"],h:["t","z","u","g","j","b","n","m"],j:["z","u","i","h","k","n","m"],k:["u","i","o","j","l","m"],l:["i","o","p","k","oe"],oe:["o","p","ue","l","ae"],ae:["ue","oe"],y:["a","s","x"],x:["a","s","d","y","c"],c:["s","d","f","x","v"],v:["d","f","g","c","b"],b:["f","g","h","v","n"],n:["g","h","j","b","m"],m:["h","j","k","n"]}}getCommonPrefixes(){return["un","vor","nach","bei","mit","ab","an","auf","aus","ein","gegen","hinter","neben","ueber","unter","zwischen","selbst"]}getCommonSuffixes(){return["haus","platz","strasse","weg","hof","berg","tal","feld","stadt","dorf","heim","werk","bau","anlage","zentrum"]}getCommonWords(){return new Set(["kranken","kinder","frauen","maenner","alt","neu","gross","klein","hoch","tief","lang","kurz","breit","schmal","dick","duenn","stark","schwach","schnell","langsam","heiss","kalt","warm","auto","bahn","bus","zug","flug","schiff","rad","motor","wasser","feuer","erde","luft","licht","schatten","sonne","mond","tag","nacht","morgen","abend","mittag","zeit","jahr","monat"])}}class F extends P{language="english";displayName="English";supportedFeatures=["phonetic","synonyms","keyboard-neighbors","partial-words","missing-letters","extra-letters","transpositions"];normalize(e){return e.toLowerCase().trim().replace(/\s+/g," ").replace(/won't/g,"will not").replace(/can't/g,"cannot").replace(/n't/g," not").replace(/'re/g," are").replace(/'ve/g," have").replace(/'ll/g," will").replace(/'d/g," would").replace(/'m/g," am").replace(/'/g,"")}getPhoneticCode(e){const s=this.normalize(e).replace(/[^a-z]/g,"");if(s.length===0)return"";let t="",i=0;const r=s.length;for((s.startsWith("gn")||s.startsWith("kn")||s.startsWith("pn")||s.startsWith("wr"))&&(i=1);i<r&&t.length<4;){const a=s[i],o=i+1<r?s[i+1]:"",c=i>0?s[i-1]:"";switch(a){case"a":case"e":case"i":case"o":case"u":i===0&&(t+=a.toUpperCase());break;case"b":i===r-1&&c==="m"||(t+="B");break;case"c":o==="h"?(t+="X",i++):o==="i"||o==="e"||o==="y"?t+="S":t+="K";break;case"d":o==="g"?(t+="J",i++):t+="T";break;case"f":t+="F";break;case"g":o==="h"&&i!==0||(o==="n"?(t+="N",i++):o==="i"||o==="e"||o==="y"?t+="J":t+="K");break;case"h":(i===0||"aeiou".includes(c)||"aeiou".includes(o))&&(t+="H");break;case"j":t+="J";break;case"k":c!=="c"&&(t+="K");break;case"l":t+="L";break;case"m":t+="M";break;case"n":t+="N";break;case"p":o==="h"?(t+="F",i++):t+="P";break;case"q":t+="K";break;case"r":t+="R";break;case"s":o==="h"?(t+="X",i++):t+="S";break;case"t":o==="h"?(t+="0",i++):o==="i"&&i+2<r&&(s[i+2]==="a"||s[i+2]==="o")?t+="X":t+="T";break;case"v":t+="F";break;case"w":"aeiou".includes(o)&&(t+="W");break;case"x":t+="KS";break;case"y":"aeiou".includes(o)&&(t+="Y");break;case"z":t+="S";break}i++}return t||"A"}getWordVariants(e){const s=new Set,t=this.normalize(e);s.add(t),s.add(e);const i=this.getCommonEndings();for(const r of i)t.endsWith(r)&&t.length>r.length+2&&s.add(t.slice(0,-r.length));if(t.endsWith("s")&&t.length>3&&s.add(t.slice(0,-1)),t.endsWith("s")||s.add(t+"s"),t.endsWith("ing")&&t.length>5){const r=t.slice(0,-3);s.add(r),s.add(r+"e")}if(t.endsWith("ed")&&t.length>4){const r=t.slice(0,-2);s.add(r),s.add(r+"e")}if(t.length>4)for(let r=3;r<t.length;r++)s.add(t.slice(0,r));return Array.from(s)}getCommonEndings(){return["s","es","ed","ing","er","est","ly","tion","sion","ness","ment","able","ible","ful","less","ous","ious","al","ial","ic","ive","ary","ery","ory"]}getSynonyms(e){const s={doctor:["physician","medic","doc","md"],hospital:["clinic","medical center","infirmary"],school:["academy","institution","college","university"],car:["vehicle","automobile","auto"],house:["home","residence","dwelling","building"],street:["road","avenue","lane","boulevard"],city:["town","municipality","urban area"],work:["job","employment","occupation","career"],money:["cash","currency","funds","capital"],time:["duration","period","moment","hour"],big:["large","huge","enormous","massive","giant"],small:["little","tiny","miniature","petite"],fast:["quick","rapid","speedy","swift"],slow:["sluggish","gradual","leisurely"],good:["excellent","great","wonderful","fine"],bad:["poor","terrible","awful","horrible"],happy:["joyful","cheerful","glad","pleased"],sad:["unhappy","depressed","melancholy","sorrowful"]},t=this.normalize(e);return s[t]||[]}}class R extends P{language="spanish";displayName="Español";supportedFeatures=["phonetic","synonyms","keyboard-neighbors","partial-words","missing-letters","extra-letters"];normalize(e){return e.toLowerCase().trim().replace(/\s+/g," ").replace(/á/g,"a").replace(/é/g,"e").replace(/í/g,"i").replace(/ó/g,"o").replace(/ú/g,"u").replace(/ñ/g,"n").replace(/ü/g,"u")}getPhoneticCode(e){const s=this.normalize(e);if(s.length===0)return"";let t="",i="";for(let r=0;r<s.length;r++){const a=s[r],o=r<s.length-1?s[r+1]:"";let c="";switch(a){case"a":case"e":case"i":case"o":case"u":c="0";break;case"b":case"v":c="1";break;case"c":o==="h"?c="2":o==="e"||o==="i"?c="8":c="4";break;case"d":c="3";break;case"f":c="5";break;case"g":o==="u"&&r+2<s.length&&(s[r+2]==="e"||s[r+2]==="i")?c="4":o==="e"||o==="i"?c="6":c="4";break;case"h":continue;case"j":c="6";break;case"k":c="4";break;case"l":o==="l"?c="7":c="5";break;case"m":c="6";break;case"n":o==="n"?c="7":c="6";break;case"ñ":c="7";break;case"p":c="1";break;case"q":c="4";break;case"r":o==="r"||r===0?c="8":c="7";break;case"s":c="8";break;case"t":c="3";break;case"w":c="1";break;case"x":c="48";break;case"y":c="7";break;case"z":c="8";break;default:continue}c&&c!==i&&(t+=c),i=c}return t||"0"}getCommonEndings(){return["o","a","os","as","e","es","ar","er","ir","ado","ada","idos","idas","ando","endo","iendo","cion","sion","dad","tad","mente","oso","osa","ito","ita","illo","illa"]}getSynonyms(e){const s={medico:["doctor","facultativo"],hospital:["clinica","sanatorio"],escuela:["colegio","instituto"],coche:["auto","automovil","vehiculo"],casa:["hogar","vivienda","domicilio"],calle:["via","avenida","carretera"],ciudad:["urbe","poblacion","municipio"],trabajo:["empleo","ocupacion","labor"],dinero:["plata","efectivo","capital"],tiempo:["momento","periodo","duracion"],grande:["enorme","gigante","inmenso"],pequeno:["chico","diminuto","minusculo"],rapido:["veloz","ligero","acelerado"],lento:["despacio","pausado"],bueno:["excelente","magnifico","estupendo"],malo:["pesimo","terrible","horrible"]},t=this.normalize(e);return s[t]||[]}}class I extends P{language="french";displayName="Français";supportedFeatures=["phonetic","synonyms","keyboard-neighbors","partial-words","missing-letters","extra-letters"];normalize(e){return e.toLowerCase().trim().replace(/\s+/g," ").replace(/[àáâãä]/g,"a").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/[òóôõö]/g,"o").replace(/[ùúûü]/g,"u").replace(/ç/g,"c").replace(/ñ/g,"n").replace(/ÿ/g,"y")}getPhoneticCode(e){const s=this.normalize(e);if(s.length===0)return"";let t="",i="";for(let r=0;r<s.length;r++){const a=s[r],o=r<s.length-1?s[r+1]:"",c=r<s.length-2?s[r+2]:"";let l="";switch(a){case"a":case"e":case"i":case"o":case"u":case"y":l="0";break;case"b":l="1";break;case"c":o==="h"?l="2":o==="e"||o==="i"?l="8":l="4";break;case"d":l="3";break;case"f":l="5";break;case"g":o==="n"?l="6":o==="u"&&(c==="e"||c==="i")?l="4":o==="e"||o==="i"?l="6":l="4";break;case"h":r===0&&(l="0");break;case"j":l="6";break;case"k":l="4";break;case"l":l="5";break;case"m":l="6";break;case"n":l="6";break;case"p":o==="h"?l="5":l="1";break;case"q":l="4";break;case"r":l="7";break;case"s":l="8";break;case"t":l="3";break;case"v":l="5";break;case"w":l="5";break;case"x":l="48";break;case"z":l="8";break;default:continue}l&&l!==i&&(t+=l),i=l}return t||"0"}getCommonEndings(){return["e","es","s","x","ent","ant","ment","tion","sion","eur","euse","teur","trice","able","ible","ique","aire","oire","ette","elle","esse","asse","isse","age","isme","iste","ite","ude","ade"]}getSynonyms(e){const s={medecin:["docteur","praticien"],hopital:["clinique","centre medical"],ecole:["etablissement","institution"],voiture:["automobile","vehicule","auto"],maison:["domicile","residence","habitation"],rue:["avenue","boulevard","voie"],ville:["cite","commune","agglomeration"],travail:["emploi","occupation","metier"],argent:["monnaie","especes","capital"],temps:["duree","periode","moment"],grand:["enorme","immense","gigantesque"],petit:["minuscule","minime","reduit"],rapide:["vite","accelere","prompt"],lent:["lentement","doucement"],bon:["excellent","parfait","formidable"],mauvais:["terrible","affreux","horrible"],heureux:["joyeux","content","ravi"],triste:["malheureux","chagrine","melancolique"]},t=this.normalize(e);return s[t]||[]}getKeyboardNeighbors(){return{a:["z","e","r","q","s"],z:["a","e","r","q","s","d"],e:["z","r","t","s","d","f"],r:["e","t","y","d","f","g"],t:["r","y","u","f","g","h"],y:["t","u","i","g","h","j"],u:["y","i","o","h","j","k"],i:["u","o","p","j","k","l"],o:["i","p","k","l","m"],p:["o","l","m"],q:["a","z","s","w","x"],s:["a","z","e","q","d","w","x","c"],d:["z","e","r","s","f","x","c","v"],f:["e","r","t","d","g","c","v","b"],g:["r","t","y","f","h","v","b","n"],h:["t","y","u","g","j","b","n"],j:["y","u","i","h","k","n"],k:["u","i","o","j","l"],l:["i","o","p","k","m"],m:["o","p","l"],w:["q","s","x"],x:["q","s","d","w","c"],c:["s","d","f","x","v"],v:["d","f","g","c","b"],b:["f","g","h","v","n"],n:["g","h","j","b"]}}}class D{static processors=new Map([["german",new W],["english",new F],["spanish",new R],["french",new I]]);static getProcessor(e){return this.processors.get(e.toLowerCase())}static getProcessors(e){return e.map(s=>this.getProcessor(s)).filter(s=>s!==void 0)}static getAvailableLanguages(){return Array.from(this.processors.keys())}static registerProcessor(e){this.processors.set(e.language.toLowerCase(),e)}static isSupported(e){return this.processors.has(e.toLowerCase())}static getProcessorInfo(){return Array.from(this.processors.values()).map(e=>({language:e.language,displayName:e.displayName,supportedFeatures:e.supportedFeatures}))}}const ye=Object.freeze(Object.defineProperty({__proto__:null,BaseLanguageProcessor:P,EnglishProcessor:F,FrenchProcessor:I,GermanProcessor:W,LanguageRegistry:D,SpanishProcessor:R},Symbol.toStringTag,{value:"Module"}));function C(n,e,s=1/0){const t=n.length,i=e.length;if(Math.abs(t-i)>s)return s+1;if(t===0)return i;if(i===0)return t;if(n===e)return 0;let r=new Array(i+1),a=new Array(i+1);for(let o=0;o<=i;o++)r[o]=o;for(let o=1;o<=t;o++){a[0]=o;let c=o;for(let l=1;l<=i;l++){const h=n[o-1]===e[l-1]?0:1;a[l]=Math.min(a[l-1]+1,r[l]+1,r[l-1]+h),c=Math.min(c,a[l])}if(c>s)return s+1;[r,a]=[a,r]}return r[i]}function M(n,e,s=1/0){const t=n.length,i=e.length;if(Math.abs(t-i)>s)return s+1;if(t===0)return i;if(i===0)return t;if(n===e)return 0;const r=Math.max(t,i),a=[],o=r+1;for(let h=0;h<=t+1;h++)a[h]=new Array(i+2).fill(o);a[0][0]=o;for(let h=0;h<=t;h++)a[h+1][0]=o,a[h+1][1]=h;for(let h=0;h<=i;h++)a[0][h+1]=o,a[1][h+1]=h;const c=new Map;for(let h=1;h<=t;h++){let u=0;for(let d=1;d<=i;d++){const f=n[h-1],g=e[d-1],y=c.get(g)||0;let b=1;f===g&&(b=0,u=d),a[h+1][d+1]=Math.min(a[h][d]+b,a[h+1][d]+1,a[h][d+1]+1,a[y][u]+(h-y-1)+1+(d-u-1))}c.set(n[h-1],h)}const l=a[t+1][i+1];return l>s?s+1:l}function j(n,e,s=3){if(n===e)return 1;if(n.length===0||e.length===0)return 0;const t=O(n,s),i=O(e,s);if(t.length===0&&i.length===0)return 1;if(t.length===0||i.length===0)return 0;const r=new Set(t),a=new Set(i),o=new Set([...r].filter(l=>a.has(l))),c=new Set([...r,...a]);return o.size/c.size}function O(n,e){if(n.length<e)return[n];const s=[];for(let t=0;t<=n.length-e;t++)s.push(n.slice(t,t+e));return s}function J(n,e){return e===0?n===0?1:0:Math.max(0,1-n/e)}function be(n,e,s=.8,t=2){if(n===e)return!0;const i=Math.max(n.length,e.length);if(Math.abs(n.length-e.length)>t||j(n,e)<s-.2)return!1;const a=C(n,e,t);return J(a,i)>=s}class L{root;size;constructor(){this.root=this.createNode(),this.size=0}createNode(){return{children:new Map,isEndOfWord:!1,docIds:new Set}}insert(e,s){if(!e)return;let t=this.root;for(const i of e)t.children.has(i)||t.children.set(i,this.createNode()),t=t.children.get(i);t.isEndOfWord=!0,t.term=e,s.forEach(i=>t.docIds.add(i)),this.size++}findWithPrefix(e){if(!e)return[];let s=this.root;for(const i of e){if(!s.children.has(i))return[];s=s.children.get(i)}const t=[];return this.collectTerms(s,t),t}has(e){let s=this.root;for(const t of e){if(!s.children.has(t))return!1;s=s.children.get(t)}return s.isEndOfWord}get(e){let s=this.root;for(const t of e){if(!s.children.has(t))return null;s=s.children.get(t)}return s.isEndOfWord?Array.from(s.docIds):null}collectTerms(e,s){e.isEndOfWord&&e.term&&s.push([e.term,Array.from(e.docIds)]);for(const t of e.children.values())this.collectTerms(t,s)}getSize(){return this.size}clear(){this.root=this.createNode(),this.size=0}toJSON(){return{root:this.serializeNode(this.root),size:this.size}}static fromJSON(e){const s=new L;return s.root=L.deserializeNode(e.root),s.size=e.size,s}serializeNode(e){return{children:Array.from(e.children.entries()).map(([s,t])=>[s,this.serializeNode(t)]),isEndOfWord:e.isEndOfWord,docIds:Array.from(e.docIds),term:e.term}}static deserializeNode(e){const s={children:new Map,isEndOfWord:e.isEndOfWord,docIds:new Set(e.docIds),term:e.term};for(const[t,i]of e.children)s.children.set(t,L.deserializeNode(i));return s}}function we(n,e,s,t){const i=[],r={termToPostings:new Map,termTrie:new L,phoneticToPostings:new Map,ngramToPostings:new Map,synonymToPostings:new Map,fieldIndices:new Map,totalDocs:0,avgDocLength:0};let a=0,o=0;for(const c of n){if(!c||c.trim().length<s.minQueryLength)continue;const l=c.trim();for(const h of e){const u=h.normalize(l),d=t.has("phonetic")&&h.supportedFeatures.includes("phonetic")?h.getPhoneticCode(l):void 0,f=t.has("compound")&&h.supportedFeatures.includes("compound")?h.splitCompoundWords(l):void 0,g={id:o,word:l,normalized:u,phoneticCode:d,language:h.language,compoundParts:f&&f.length>1?f:void 0};i.push(g),a+=u.length,T(r.termToPostings,u,o),r.termTrie.insert(u,[o]);const y=l.toLowerCase();if(T(r.termToPostings,y,o),r.termTrie.insert(y,[o]),t.has("partial-words")&&h.getWordVariants(l).forEach(w=>{T(r.termToPostings,w,o),r.termTrie.insert(w,[o])}),d&&T(r.phoneticToPostings,d,o),O(u,s.ngramSize).forEach(E=>{T(r.ngramToPostings,E,o)}),f&&f.length>1&&f.forEach(E=>{const w=h.normalize(E);T(r.termToPostings,w,o),r.termTrie.insert(w,[o])}),t.has("synonyms")&&(h.getSynonyms(u).forEach(w=>{T(r.synonymToPostings,w,o)}),s.customSynonyms)){const w=s.customSynonyms[u];w&&w.forEach(H=>{T(r.synonymToPostings,H,o)})}o++}}return r.totalDocs=o,r.avgDocLength=a/Math.max(1,o),{invertedIndex:r,documents:i}}function ke(n,e,s,t,i){const r=new Map,a=new Set(i.features);for(const o of t){const c=o.normalize(s.trim());ze(c,n,e,r,o.language),ve(c,n,e,r,o.language),a.has("phonetic")&&o.supportedFeatures.includes("phonetic")&&Ee(c,o,n,e,r),a.has("synonyms")&&Te(c,n,e,r),Se(c,n,e,r,o.language,i.ngramSize),(a.has("missing-letters")||a.has("extra-letters")||a.has("transpositions"))&&xe(c,n,e,r,o,i.maxEditDistance,i)}return Array.from(r.values())}function T(n,e,s){let t=n.get(e);t||(t={term:e,docIds:[]},n.set(e,t)),t.docIds.includes(s)||t.docIds.push(s)}function ze(n,e,s,t,i){const r=e.termToPostings.get(n);r&&r.docIds.forEach(a=>{const o=s[a];o&&(t.has(a)||t.set(a,{word:o.word,normalized:n,matchType:"exact",editDistance:0,language:i}))})}function ve(n,e,s,t,i){if(e.termTrie){const r=e.termTrie.findWithPrefix(n);for(const[a,o]of r)a!==n&&o.forEach(c=>{const l=s[c];l&&(t.has(c)||t.set(c,{word:l.word,normalized:a,matchType:"prefix",language:i}))})}else for(const[r,a]of e.termToPostings.entries())r.startsWith(n)&&r!==n&&a.docIds.forEach(o=>{const c=s[o];c&&(t.has(o)||t.set(o,{word:c.word,normalized:r,matchType:"prefix",language:i}))})}function Ee(n,e,s,t,i){const r=e.getPhoneticCode(n);if(!r)return;const a=s.phoneticToPostings.get(r);a&&a.docIds.forEach(o=>{const c=t[o];c&&(i.has(o)||i.set(o,{word:c.word,normalized:n,matchType:"phonetic",phoneticCode:r,language:e.language}))})}function Te(n,e,s,t){const i=e.synonymToPostings.get(n);i&&i.docIds.forEach(r=>{const a=s[r];a&&(t.has(r)||t.set(r,{word:a.word,normalized:n,matchType:"synonym",language:"synonym"}))})}function Se(n,e,s,t,i,r){if(n.length<r)return;const a=O(n,r),o=new Set;a.forEach(c=>{const l=e.ngramToPostings.get(c);l&&l.docIds.forEach(h=>o.add(h))}),o.forEach(c=>{const l=s[c];l&&(t.has(c)||t.set(c,{word:l.word,normalized:n,matchType:"ngram",language:i}))})}function xe(n,e,s,t,i,r,a){for(const[o,c]of e.termToPostings.entries()){if(Math.abs(o.length-n.length)>r)continue;const h=a.features?.includes("transpositions")?M(n,o,r):C(n,o,r);h<=r&&c.docIds.forEach(u=>{const d=s[u];if(!d)return;const f=t.get(u);(!f||(f.editDistance||1/0)>h)&&t.set(u,{word:d.word,normalized:o,matchType:"fuzzy",editDistance:h,language:i.language})})}}function V(n,e,s){const t=[],i=s.toLowerCase(),r=e.toLowerCase();switch(n.matchType){case"exact":t.push({start:0,end:s.length,type:"exact"});break;case"prefix":const a=Math.min(r.length,s.length);t.push({start:0,end:a,type:"prefix"});break;case"substring":const o=i.indexOf(r);o!==-1&&t.push({start:o,end:o+r.length,type:"substring"});break;case"fuzzy":t.push(...Pe(r,i,"fuzzy"));break;case"ngram":t.push(...Ce(r,i));break;case"phonetic":case"synonym":case"compound":t.push({start:0,end:s.length,type:n.matchType});break}return Le(t)}function Pe(n,e,s){const t=[];let i=0,r=0;for(;i<n.length&&r<e.length;)if(n[i]===e[r]){const a=r;let o=r+1;for(i++,r++;i<n.length&&r<e.length&&n[i]===e[r];)o++,i++,r++;t.push({start:a,end:o,type:s})}else r++;return t}function Ce(n,e){const s=[];for(let i=0;i<=n.length-3;i++){const r=n.slice(i,i+3);let a=0;for(;;){const o=e.indexOf(r,a);if(o===-1)break;s.push({start:o,end:o+3,type:"ngram"}),a=o+1}}return s}function Le(n){if(n.length===0)return[];const e=[...n].sort((t,i)=>t.start-i.start),s=[e[0]];for(let t=1;t<e.length;t++){const i=e[t],r=s[s.length-1];i.start<=r.end?(r.end=Math.max(r.end,i.end),Y(i.type)>Y(r.type)&&(r.type=i.type)):s.push(i)}return s}function Y(n){return{exact:10,prefix:9,substring:8,fuzzy:7,ngram:6,phonetic:5,compound:4,synonym:3}[n]||0}function Ne(n,e,s="highlight"){if(!e||e.length===0)return A(n);let t="",i=0;for(const r of e){r.start>i&&(t+=A(n.slice(i,r.start)));const a=n.slice(r.start,r.end);t+=`<mark class="${s} ${s}--${r.type}">${A(a)}</mark>`,i=r.end}return i<n.length&&(t+=A(n.slice(i))),t}function A(n){const e=typeof document<"u"?document.createElement("div"):null;return e?(e.textContent=n,e.innerHTML):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}class q{cache;capacity;constructor(e=100){this.cache=new Map,this.capacity=e}get(e){if(!this.cache.has(e))return;const s=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,s),s}set(e,s){if(this.cache.has(e)&&this.cache.delete(e),this.cache.set(e,s),this.cache.size>this.capacity){const t=this.cache.keys().next().value;t!==void 0&&this.cache.delete(t)}}has(e){return this.cache.has(e)}clear(){this.cache.clear()}get size(){return this.cache.size}getStats(){return{size:this.cache.size,capacity:this.capacity,utilization:this.cache.size/this.capacity}}}class B{cache;hits=0;misses=0;constructor(e=100){this.cache=new q(e)}getCacheKey(e,s,t){const i=t?JSON.stringify(t):"";return`${e}|${s||"default"}|${i}`}get(e,s,t){const i=this.getCacheKey(e,s,t),r=this.cache.get(i);return r?this.hits++:this.misses++,r}set(e,s,t,i){const r=this.getCacheKey(e,t,i);this.cache.set(r,s)}clear(){this.cache.clear(),this.hits=0,this.misses=0}getStats(){const e=this.cache.getStats(),s=this.hits+this.misses,t=s>0?this.hits/s:0;return{...e,hits:this.hits,misses:this.misses,hitRate:t}}}const ee={à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ā:"a",ă:"a",ą:"a",À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ā:"A",Ă:"A",Ą:"A",è:"e",é:"e",ê:"e",ë:"e",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",È:"E",É:"E",Ê:"E",Ë:"E",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ì:"i",í:"i",î:"i",ï:"i",ĩ:"i",ī:"i",ĭ:"i",į:"i",Ì:"I",Í:"I",Î:"I",Ï:"I",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ō:"o",ŏ:"o",ő:"o",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ō:"O",Ŏ:"O",Ő:"O",ù:"u",ú:"u",û:"u",ü:"u",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ý:"y",ÿ:"y",ŷ:"y",Ý:"Y",Ÿ:"Y",Ŷ:"Y",ñ:"n",ń:"n",ņ:"n",ň:"n",Ñ:"N",Ń:"N",Ņ:"N",Ň:"N",ç:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",Ç:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ß:"ss",ð:"d",đ:"d",Ð:"D",Đ:"D",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĥ:"h",ħ:"h",Ĥ:"H",Ħ:"H",ĵ:"j",Ĵ:"J",ķ:"k",Ķ:"K",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ŕ:"r",ŗ:"r",ř:"r",Ŕ:"R",Ŗ:"R",Ř:"R",ś:"s",ŝ:"s",ş:"s",š:"s",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ţ:"t",ť:"t",ŧ:"t",Ţ:"T",Ť:"T",Ŧ:"T",ŵ:"w",Ŵ:"W",ź:"z",ż:"z",ž:"z",Ź:"Z",Ż:"Z",Ž:"Z",æ:"ae",œ:"oe",Æ:"AE",Œ:"OE",þ:"th",Þ:"TH"};function N(n){if(!n)return n;let e="";for(let s=0;s<n.length;s++){const t=n[s];e+=ee[t]||t}return e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),e}function Me(n){if(!n)return!1;for(let s=0;s<n.length;s++)if(ee[n[s]])return!0;const e=n.normalize("NFD");return/[\u0300-\u036f]/.test(e)}function Oe(n){return N(n.toLowerCase())}function Ae(n){const e=N(n);return e!==n?[n,e]:[n]}function We(n,e){if(!e||e.length===0||typeof n=="string")return null;if(typeof n=="object"&&n!==null){const s={};for(const t of e){const i=n[t];i!=null&&(s[t]=String(i))}return Object.keys(s).length>0?s:null}return null}function Fe(n,e){const s={};for(const t of n)s[t]=e?.[t]??1;return s}const te={english:["a","an","and","are","as","at","be","by","for","from","has","he","in","is","it","its","of","on","that","the","to","was","will","with","the","this","but","they","have","had","what","when","where","who","which","why","how"],german:["der","die","das","den","dem","des","ein","eine","einer","eines","einem","einen","und","oder","aber","ist","sind","war","waren","hat","haben","wird","werden","von","zu","im","am","um","auf","für","mit","nach","bei","aus"],spanish:["el","la","los","las","un","una","unos","unas","de","del","y","o","pero","es","son","era","fueron","ha","han","en","a","al","con","por","para","sin","sobre","entre"],french:["le","la","les","un","une","des","du","de","et","ou","mais","est","sont","était","étaient","a","ont","à","au","aux","avec","pour","par","dans","sur","sous","entre"]};function se(n,e){const s=e instanceof Set?e:new Set(e.map(r=>r.toLowerCase())),i=n.split(/\s+/).filter(r=>!s.has(r.toLowerCase()));return i.length===0?n:i.join(" ")}function Re(n){const e=new Set;for(const s of n){const t=te[s.toLowerCase()];t&&t.forEach(i=>e.add(i))}return e}function Ie(n,e){return(e instanceof Set?e:new Set(e.map(t=>t.toLowerCase()))).has(n.toLowerCase())}function ne(n,e){if(e===0)return!0;const s=n[e-1];return/[\s\-_.,;:!?()[\]{}'"\/\\]/.test(s)}function ie(n,e,s){const t=e+s,i=ne(n,e),r=t>=n.length||/[\s\-_.,;:!?()[\]{}'"\/\\]/.test(n[t]);return i&&r}function re(n,e,s=!1){const t=[],i=s?n:n.toLowerCase(),r=s?e:e.toLowerCase();let a=0;for(;a<i.length;){const o=i.indexOf(r,a);if(o===-1)break;ie(n,o,r.length)&&t.push(o),a=o+1}return t}function U(n,e,s){return s?re(n,e,!1).length>0:n.toLowerCase().includes(e.toLowerCase())}function De(n){const s=n.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*");return new RegExp(`^${s}$`,"i")}function oe(n,e){return De(e).test(n)}function je(n){if(!n||typeof n!="string")return{phrases:[],terms:[],original:n||"",hasPhrases:!1};const e=[];let s=n;const t=/"([^"]+)"/g;let i;for(;(i=t.exec(n))!==null;){const o=i[1].trim();o&&o.split(/\s+/).length<=10&&e.push(o)}s=s.replace(/"[^"]*"/g," ");const r=/'([^']+)'/g;for(;(i=r.exec(n))!==null;){const o=i[1].trim();o&&o.split(/\s+/).length<=10&&e.push(o)}s=s.replace(/'[^']*'/g," ");const a=s.split(/\s+/).map(o=>o.trim()).filter(o=>o.length>0);return{phrases:e,terms:a,original:n,hasPhrases:e.length>0}}const Be={exactMatch:!1,maxEditDistance:1,proximityBonus:1.5,maxProximityDistance:3,useTranspositions:!1};function Ue(n,e,s={}){const t={...Be,...s};if(!n||!e)return{matched:!1,score:0,matchType:"none"};const i=n.toLowerCase(),r=e.toLowerCase(),a=_e(i,r);if(a.matched)return{...a,score:1,matchType:"exact"};if(t.exactMatch)return{matched:!1,score:0,matchType:"none"};const o=Qe(i,r,t.maxEditDistance,t.useTranspositions);if(o.matched)return{...o,matchType:"fuzzy"};const c=$e(i,r,t.maxProximityDistance);return c.matched?{...c,matchType:"proximity"}:{matched:!1,score:0,matchType:"none"}}function _e(n,e){const s=n.indexOf(e);return s!==-1?{matched:!0,score:1,matchType:"exact",startPos:s,endPos:s+e.length}:{matched:!1,score:0,matchType:"none"}}function Qe(n,e,s,t){const i=e.split(/\s+/),r=n.split(/\s+/);for(let a=0;a<=r.length-i.length;a++){const o=r.slice(a,a+i.length);let c=0,l=!0;for(let h=0;h<i.length;h++){const u=t?M(i[h],o[h],s):C(i[h],o[h],s);if(u>s){l=!1;break}c+=u}if(l){const h=i.length*s;return{matched:!0,score:h>0?.7+.2*(1-c/h):.9,matchType:"fuzzy",matchedWords:o}}}return{matched:!1,score:0,matchType:"none"}}function $e(n,e,s){const t=e.split(/\s+/),i=n.split(/\s+/),r=t.map(()=>[]);if(i.forEach((l,h)=>{t.forEach((u,d)=>{(l===u||l.includes(u)||u.includes(l))&&r[d].push(h)})}),r.some(l=>l.length===0))return{matched:!1,score:0,matchType:"none"};let a=1/0,o=[];function c(l,h){if(l===t.length){const u=[...h].sort((f,g)=>f-g),d=u[u.length-1]-u[0];d<a&&(a=d,o=[...h]);return}for(const u of r[l])c(l+1,[...h,u])}return c(0,[]),a<=s?{matched:!0,score:.5+.2*(1-a/s),matchType:"proximity",matchedWords:o.map(h=>i[h])}:{matched:!1,score:0,matchType:"none"}}function Ge(n){if(!n||n.trim().length===0)return["english"];const e=new Set;return e.add("english"),/[äöüßÄÖÜ]/.test(n)&&e.add("german"),/[àâäæçéèêëïîôùûüÿœÀÂÄÆÇÉÈÊËÏÎÔÙÛÜŸŒ]/.test(n)&&e.add("french"),/[áéíóúñüÁÉÍÓÚÑÜ¿¡]/.test(n)&&e.add("spanish"),Array.from(e)}function He(n,e=100){return n.slice(0,Math.min(e,n.length)).map(t=>typeof t=="string"?t:typeof t=="object"&&t!==null?Object.values(t).filter(i=>typeof i=="string").join(" "):"").join(" ")}const m={TERM:"TERM",QUOTED:"QUOTED",AND:"AND",OR:"OR",NOT:"NOT",LPAREN:"LPAREN",RPAREN:"RPAREN",COLON:"COLON",EXACT:"EXACT",FUZZY:"FUZZY",PHONETIC:"PHONETIC",PREFIX:"PREFIX",REGEX:"REGEX",COMPOUND:"COMPOUND",LANG:"LANG",SCORE:"SCORE",SCORE_OP:"SCORE_OP",NUMBER:"NUMBER",EOF:"EOF"};class Xe{input="";position=0;tokens=[];tokenize(e){for(this.input=e.trim(),this.position=0,this.tokens=[];this.position<this.input.length&&(this.skipWhitespace(),!(this.position>=this.input.length));){const s=this.input[this.position];if(s==="("){this.tokens.push({type:m.LPAREN,value:"(",position:this.position}),this.position++;continue}if(s===")"){this.tokens.push({type:m.RPAREN,value:")",position:this.position}),this.position++;continue}if(s===":"){this.tokens.push({type:m.COLON,value:":",position:this.position}),this.position++;continue}if(s==='"'||s==="'"){this.tokenizeQuotedString(s);continue}if(this.isDigit(s)){this.tokenizeNumber();continue}if(this.isAlpha(s)){this.tokenizeKeywordOrTerm();continue}if(s===">"||s==="<"){this.tokenizeScoreOperator();continue}this.position++}return this.tokens.push({type:m.EOF,value:"",position:this.position}),this.tokens}skipWhitespace(){for(;this.position<this.input.length&&/\s/.test(this.input[this.position]);)this.position++}isAlpha(e){return/[a-zA-ZäöüßÄÖÜàâäæçéèêëïîôùûüÿœÀÂÄÆÇÉÈÊËÏÎÔÙÛÜŸŒáéíóúñüÁÉÍÓÚÑÜ_]/.test(e)}isDigit(e){return/[0-9.]/.test(e)}isAlphaNumeric(e){return this.isAlpha(e)||this.isDigit(e)}tokenizeQuotedString(e){const s=this.position;this.position++;let t="";for(;this.position<this.input.length&&this.input[this.position]!==e;)t+=this.input[this.position],this.position++;if(this.position>=this.input.length)throw new Error(`Unclosed quote at position ${s}`);this.position++,this.tokens.push({type:m.QUOTED,value:t,position:s})}tokenizeNumber(){const e=this.position;let s="";for(;this.position<this.input.length&&this.isDigit(this.input[this.position]);)s+=this.input[this.position],this.position++;this.tokens.push({type:m.NUMBER,value:s,position:e})}tokenizeKeywordOrTerm(){const e=this.position;let s="";for(;this.position<this.input.length&&this.isAlphaNumeric(this.input[this.position]);)s+=this.input[this.position],this.position++;const t=s.toUpperCase();switch(t){case"AND":this.tokens.push({type:m.AND,value:t,position:e});break;case"OR":this.tokens.push({type:m.OR,value:t,position:e});break;case"NOT":this.tokens.push({type:m.NOT,value:t,position:e});break;case"EXACT":this.tokens.push({type:m.EXACT,value:t,position:e});break;case"FUZZY":this.tokens.push({type:m.FUZZY,value:t,position:e});break;case"PHONETIC":this.tokens.push({type:m.PHONETIC,value:t,position:e});break;case"PREFIX":this.tokens.push({type:m.PREFIX,value:t,position:e});break;case"REGEX":this.tokens.push({type:m.REGEX,value:t,position:e});break;case"COMPOUND":this.tokens.push({type:m.COMPOUND,value:t,position:e});break;case"LANG":this.tokens.push({type:m.LANG,value:t,position:e});break;case"SCORE":this.tokens.push({type:m.SCORE,value:t,position:e});break;default:this.tokens.push({type:m.TERM,value:s,position:e});break}}tokenizeScoreOperator(){const e=this.position;let s=this.input[this.position];this.position++,this.position<this.input.length&&this.input[this.position]==="="&&(s+="=",this.position++),this.tokens.push({type:m.SCORE_OP,value:s,position:e})}}class z extends Error{position;constructor(e,s){super(e),this.name="FQLSyntaxError",this.position=s}}class Ke{tokens=[];current=0;parse(e){if(this.tokens=e,this.current=0,this.tokens.length===0||this.tokens[0].type===m.EOF)throw new z("Empty query",0);const s=this.parseExpression();if(!this.isAtEnd())throw new z(`Unexpected token '${this.peek().value}' at position ${this.peek().position}`,this.peek().position);return s}parseExpression(){return this.parseOrExpression()}parseOrExpression(){let e=this.parseAndExpression();for(;this.match(m.OR);){const s=this.parseAndExpression();e={type:"or",left:e,right:s}}return e}parseAndExpression(){let e=this.parseNotExpression();for(;this.match(m.AND);){const s=this.parseNotExpression();e={type:"and",left:e,right:s}}return e}parseNotExpression(){return this.match(m.NOT)?{type:"not",child:this.parsePrimary()}:this.parsePrimary()}parsePrimary(){if(this.match(m.LPAREN)){const e=this.parseExpression();if(!this.match(m.RPAREN))throw new z(`Expected ')' at position ${this.peek().position}`,this.peek().position);return e}if(this.check(m.EXACT)||this.check(m.FUZZY)||this.check(m.PHONETIC)||this.check(m.PREFIX)||this.check(m.REGEX)||this.check(m.COMPOUND))return this.parseFilter();if(this.check(m.LANG))return this.parseLang();if(this.check(m.QUOTED)){const s={type:"phrase",value:this.advance().value};return this.check(m.SCORE)?this.parseScore(s):s}if(this.check(m.TERM)){const e=this.advance();if(this.match(m.COLON)){const t=this.parsePrimary();return{type:"field",field:e.value,child:t}}const s={type:"term",value:e.value};return this.check(m.SCORE)?this.parseScore(s):s}throw new z(`Unexpected token '${this.peek().value}' at position ${this.peek().position}`,this.peek().position)}parseFilter(){const e=this.advance(),s=e.value.toLowerCase();if(!this.match(m.COLON))throw new z(`Expected ':' after ${e.value} at position ${this.peek().position}`,this.peek().position);let t;if(this.check(m.QUOTED))t=this.advance().value;else if(this.check(m.TERM))t=this.advance().value;else throw new z(`Expected value after ${e.value}: at position ${this.peek().position}`,this.peek().position);const i={type:"filter",filterType:s,value:t};return this.check(m.SCORE)?this.parseScore(i):i}parseLang(){if(this.advance(),!this.match(m.COLON))throw new z(`Expected ':' after LANG at position ${this.peek().position}`,this.peek().position);if(!this.check(m.TERM))throw new z(`Expected language name after LANG: at position ${this.peek().position}`,this.peek().position);const e=this.advance().value,s=this.parsePrimary();return{type:"lang",language:e,child:s}}parseScore(e){if(this.advance(),!this.check(m.SCORE_OP))throw new z(`Expected score operator (>, <, >=, <=) at position ${this.peek().position}`,this.peek().position);const s=this.advance().value;if(!this.check(m.NUMBER))throw new z(`Expected number after ${s} at position ${this.peek().position}`,this.peek().position);const t=parseFloat(this.advance().value);if(isNaN(t)||t<0||t>1)throw new z("Score threshold must be between 0 and 1",this.previous().position);return{type:"score",operator:s,threshold:t,child:e}}match(...e){for(const s of e)if(this.check(s))return this.advance(),!0;return!1}check(e){return this.isAtEnd()?!1:this.peek().type===e}advance(){return this.isAtEnd()||this.current++,this.previous()}isAtEnd(){return this.peek().type===m.EOF}peek(){return this.tokens[this.current]}previous(){return this.tokens[this.current-1]}}function Ze(n){return n.type==="term"}function Je(n){return n.type==="phrase"}function Ve(n){return n.type==="and"}function Ye(n){return n.type==="or"}function qe(n){return n.type==="not"}function et(n){return n.type==="filter"}function tt(n){return n.type==="field"}function st(n){return n.type==="score"}function nt(n){return n.type==="lang"}class ae extends Error{constructor(e){super(e),this.name="FQLTimeoutError"}}class it{index;options;startTime=0;timeout=5e3;constructor(e,s={}){this.index=e,this.options=s,this.timeout=s.fqlOptions?.timeout||5e3}execute(e){return this.startTime=Date.now(),this.executeNode(e)}checkTimeout(){if(Date.now()-this.startTime>this.timeout)throw new ae(`Query execution timeout after ${this.timeout}ms`)}executeNode(e){return this.checkTimeout(),Ve(e)?this.executeAnd(e):Ye(e)?this.executeOr(e):qe(e)?this.executeNot(e):Ze(e)?this.executeTerm(e.value):Je(e)?this.executePhrase(e.value):et(e)?this.executeFilter(e):tt(e)?this.executeField(e):st(e)?this.executeScore(e):nt(e)?this.executeLang(e):[]}executeAnd(e){const s=this.executeNode(e.left),t=this.executeNode(e.right),i=new Set(t.map(a=>a.display));return s.filter(a=>i.has(a.display)).sort((a,o)=>o.score-a.score)}executeOr(e){const s=this.executeNode(e.left),t=this.executeNode(e.right),i=new Map;for(const r of s)i.set(r.display,r);for(const r of t){const a=i.get(r.display);(!a||r.score>a.score)&&i.set(r.display,r)}return Array.from(i.values()).sort((r,a)=>a.score-r.score)}executeNot(e){const s=this.executeNode(e.child),t=new Set(s.map(r=>r.display));return S(this.index,"",this.index.base.length,this.options).filter(r=>!t.has(r.display)).sort((r,a)=>a.score-r.score)}executeTerm(e){return S(this.index,e,this.index.base.length,this.options)}executePhrase(e){return S(this.index,`"${e}"`,this.index.base.length,this.options)}executeFilter(e){const{filterType:s,value:t}=e,i=S(this.index,t,this.index.base.length,this.options);switch(s){case"exact":return i.filter(r=>r._debug_matchType==="exact");case"fuzzy":return i.filter(r=>r._debug_matchType==="fuzzy");case"phonetic":return i.filter(r=>r._debug_matchType==="phonetic");case"prefix":return i.filter(r=>r._debug_matchType==="prefix");case"compound":return i.filter(r=>r._debug_matchType==="compound");case"regex":return this.executeRegex(t);default:return i}}executeRegex(e){if(!this.options.fqlOptions?.allowRegex)throw new Error("Regex not enabled. Set fqlOptions.allowRegex = true");try{const s=new RegExp(e),t=[];for(const i of this.index.base)s.test(i)&&t.push({display:i,baseWord:i,score:1,isSynonym:!1,language:"unknown",_debug_matchType:"regex"});return t}catch{throw new Error(`Invalid regex pattern: ${e}`)}}executeField(e){const s=this.executeNode(e.child);return this.index.fieldData?s.filter(t=>t.field===e.field):s}executeScore(e){const s=this.executeNode(e.child),{operator:t,threshold:i}=e;return s.filter(r=>{switch(t){case">":return r.score>i;case"<":return r.score<i;case">=":return r.score>=i;case"<=":return r.score<=i;default:return!0}})}executeLang(e){const s=this.executeNode(e.child),t=e.language.toLowerCase();return s.filter(i=>i.language?.toLowerCase()===t)}}function ce(n){const e=n.trim();return e.startsWith("fql(")&&e.endsWith(")")}function rt(n){const e=n.trim();if(!ce(e))throw new Error("Not a valid FQL query. Must be wrapped in fql(...)");return e.slice(4,-1).trim()}function ot(n,e,s,t={}){try{const i=rt(e),a=new Xe().tokenize(i),c=new Ke().parse(a),h=new it(n,t).execute(c),u=s||t.maxResults||10;return h.slice(0,u)}catch(i){throw i instanceof z||i instanceof ae?i:new Error(`FQL execution error: ${i.message}`)}}function le(n=[],e={}){const s=e.config?.languages,t=!s||s.includes("auto"),i=Z(e.config);if(t){const g=He(n,100),y=Ge(g);i.languages=y}me(i);const r=new Set(i.features),a=e.languageProcessors||D.getProcessors(i.languages);if(a.length===0)throw new Error(`No language processors found for: ${i.languages.join(", ")}`);const o=e.fields&&e.fields.length>0,c=n.length>0&&typeof n[0]=="object"&&n[0]!==null;if(c&&!o)throw new Error("When indexing objects, you must specify which fields to index via options.fields");const l={base:[],variantToBase:new Map,phoneticToBase:new Map,ngramIndex:new Map,synonymMap:new Map,languageProcessors:new Map,config:i};o&&(l.fields=e.fields,l.fieldWeights=Fe(e.fields,e.fieldWeights),l.fieldData=new Map),a.forEach(g=>{l.languageProcessors.set(g.language,g)});const h=new Set;let u=0;for(const g of n)if(g){if(o&&c){const y=We(g,e.fields);if(!y)continue;const b=Object.values(y)[0]||`item_${u}`;l.fieldData.set(b,y);for(const[E,w]of Object.entries(y)){if(!w||w.trim().length<i.minQueryLength)continue;const H=w.trim();h.has(b.toLowerCase())||(h.add(b.toLowerCase()),l.base.push(b));for(const Et of a)ct(H,b,E,Et,l,i,r)}}else{const y=typeof g=="string"?g:String(g);if(y.trim().length<i.minQueryLength)continue;const b=y.trim();if(h.has(b.toLowerCase()))continue;h.add(b.toLowerCase()),l.base.push(b);for(const E of a)at(b,E,l,i,r)}u++,e.onProgress&&e.onProgress(u,n.length)}if(e.useInvertedIndex||i.useInvertedIndex||n.length>=1e4){const{invertedIndex:g,documents:y}=we(n,a,i,r);l.invertedIndex=g,l.documents=y}if(i.enableCache!==!1){const g=i.cacheSize||100;l._cache=new B(g)}return l}function at(n,e,s,t,i){const r=e.normalize(n);v(s.variantToBase,r,n),v(s.variantToBase,n.toLowerCase(),n),v(s.variantToBase,n,n);const a=N(n);if(a!==n){v(s.variantToBase,a,n),v(s.variantToBase,a.toLowerCase(),n);const c=e.normalize(a);c!==a.toLowerCase()&&v(s.variantToBase,c,n)}if(i.has("partial-words")&&e.getWordVariants(n).forEach(l=>{v(s.variantToBase,l,n)}),i.has("phonetic")&&e.supportedFeatures.includes("phonetic")){const c=e.getPhoneticCode(n);c&&v(s.phoneticToBase,c,n)}if(Q(r,t.ngramSize).forEach(c=>{v(s.ngramIndex,c,n)}),i.has("compound")&&e.supportedFeatures.includes("compound")&&e.splitCompoundWords(n).forEach(l=>{l!==n&&v(s.variantToBase,e.normalize(l),n)}),i.has("synonyms")&&(e.getSynonyms(r).forEach(l=>{v(s.synonymMap,l,n)}),t.customSynonyms)){const l=t.customSynonyms[r];l&&l.forEach(h=>{v(s.synonymMap,h,n)})}}function ct(n,e,s,t,i,r,a){const o=t.normalize(n);k(i.variantToBase,o,e),k(i.variantToBase,n.toLowerCase(),e),k(i.variantToBase,n,e);const c=N(n);if(c!==n){k(i.variantToBase,c,e),k(i.variantToBase,c.toLowerCase(),e);const h=t.normalize(c);h!==c.toLowerCase()&&k(i.variantToBase,h,e)}if(a.has("partial-words")&&t.getWordVariants(n).forEach(u=>{k(i.variantToBase,u,e)}),a.has("phonetic")&&t.supportedFeatures.includes("phonetic")){const h=t.getPhoneticCode(n);h&&k(i.phoneticToBase,h,e)}if(Q(o,r.ngramSize).forEach(h=>{k(i.ngramIndex,h,e)}),a.has("compound")&&t.supportedFeatures.includes("compound")&&t.splitCompoundWords(n).forEach(u=>{u.length>=r.minQueryLength&&(k(i.variantToBase,u,e),k(i.variantToBase,t.normalize(u),e))}),a.has("synonyms")&&(t.getSynonyms(o).forEach(u=>{k(i.synonymMap,u,e)}),r.customSynonyms)){const u=r.customSynonyms[o];u&&u.forEach(d=>{k(i.synonymMap,d,e)})}}function k(n,e,s,t){n.has(e)||n.set(e,new Set),n.get(e).add(s)}function v(n,e,s){n.has(e)||n.set(e,new Set),n.get(e).add(s)}function lt(n,e,s,t={}){const i={},r=[...new Set(e)];for(const a of r)i[a]=S(n,a,s,t);return i}function S(n,e,s,t={}){const i=n.config,r=s||t.maxResults||i.maxResults,a=t.fuzzyThreshold||i.fuzzyThreshold;if(!e||e.trim().length<i.minQueryLength)return[];if(t.enableFQL&&ce(e))return ot(n,e,r,t);const o=je(e);if(o.hasPhrases)return gt(n,o,r,a,t);let c=e;if(i.enableStopWords&&i.stopWords&&i.stopWords.length>0&&(c=se(e,i.stopWords)),n._cache){const f=n._cache.get(c,r,t);if(f)return f}const h=(t.languages||i.languages).map(f=>n.languageProcessors.get(f)).filter(f=>f!==void 0);if(h.length===0)return[];if(n.invertedIndex&&n.documents){const f=ft(n,c,r,a,h,t);return n._cache&&n._cache.set(c,f,r,t),f}const u=new Map;for(const f of h){const g=f.normalize(c.trim());he(g,n,u,f.language),ue(g,n,u,f.language),fe(g,f,n,u),ht(g,n,u),ge(g,n,u,f.language,i.ngramSize),(i.features.includes("missing-letters")||i.features.includes("extra-letters")||i.features.includes("transpositions"))&&de(g,n,u,f,i)}const d=Array.from(u.values()).map(f=>_(f,c,a,n,t)).filter(f=>f!==null).sort((f,g)=>g.score-f.score).slice(0,r);return n._cache&&n._cache.set(c,d,r,t),d}function he(n,e,s,t){const i=e.config.wordBoundaries||!1;if(n.includes("*")){for(const o of e.base)oe(o,n)&&(s.has(o)||s.set(o,{word:o,normalized:n,matchType:"exact",editDistance:0,language:t}));return}const r=e.variantToBase.get(n);r&&r.forEach(o=>{if(i&&!U(o,n,i))return;const c=s.get(o);(!c||c.matchType!=="exact")&&s.set(o,{word:o,normalized:n,matchType:"exact",editDistance:0,language:t})});const a=n.toLowerCase();for(const o of e.base)o.toLowerCase()===a&&(s.has(o)||s.set(o,{word:o,normalized:n,matchType:"exact",editDistance:0,language:t}))}function ue(n,e,s,t){const i=e.config.wordBoundaries||!1;for(const[r,a]of e.variantToBase.entries())r.startsWith(n)&&r!==n&&a.forEach(o=>{i&&!U(o,n,i)||s.has(o)||s.set(o,{word:o,normalized:r,matchType:"prefix",language:t})})}function fe(n,e,s,t){if(!e.supportedFeatures.includes("phonetic"))return;const i=e.getPhoneticCode(n);if(i){const r=s.phoneticToBase.get(i);r&&r.forEach(a=>{t.has(a)||t.set(a,{word:a,normalized:n,matchType:"phonetic",phoneticCode:i,language:e.language})})}}function ht(n,e,s){const t=e.synonymMap.get(n);t&&t.forEach(i=>{s.has(i)||s.set(i,{word:i,normalized:n,matchType:"synonym",language:"synonym"})})}function ge(n,e,s,t,i){if(n.length<i)return;const r=Q(n,i),a=new Set;r.forEach(o=>{const c=e.ngramIndex.get(o);c&&c.forEach(l=>a.add(l))}),a.forEach(o=>{s.has(o)||s.set(o,{word:o,normalized:n,matchType:"ngram",language:t})})}function de(n,e,s,t,i){const r=i.maxEditDistance;for(const[a,o]of e.variantToBase.entries())if(Math.abs(a.length-n.length)<=r){const l=e.config.features?.includes("transpositions")?M(n,a,r):C(n,a,r);l<=r&&o.forEach(h=>{const u=s.get(h);(!u||u.matchType!=="exact"&&u.matchType!=="prefix"&&(u.editDistance||1/0)>l)&&s.set(h,{word:h,normalized:a,matchType:"fuzzy",editDistance:l,language:t.language})})}}function _(n,e,s,t,i){let r=ut(n,e);if(n.fieldWeight&&(r=Math.min(1,r*n.fieldWeight)),r<s)return null;const a={display:n.word,baseWord:n.word,isSynonym:n.matchType==="synonym",score:r,language:n.language,_debug_matchType:n.matchType};return t.fieldData&&t.fieldData.has(n.word)&&(a.fields=t.fieldData.get(n.word),a.field=n.field),i?.includeHighlights&&(a.highlights=V(n,e,n.word)),a}function ut(n,e){const s=e.length,t=n.word.length,i=Math.max(s,t);let r=.5;switch(n.matchType){case"exact":r=1;break;case"prefix":r=.9-(t-s)/(i*2);break;case"substring":r=.8;break;case"phonetic":r=.7;break;case"fuzzy":n.editDistance!==void 0&&(r=Math.max(.3,1-n.editDistance/i));break;case"synonym":r=.6;break;case"compound":r=.75;break;case"ngram":r=j(e.toLowerCase(),n.normalized,3)*.8;break}return t<=s+2&&n.matchType!=="exact"&&(r+=.1),Math.min(1,Math.max(0,r))}function Q(n,e){if(n.length<e)return[n];const s=[];for(let t=0;t<=n.length-e;t++)s.push(n.slice(t,t+e));return s}function ft(n,e,s,t,i,r){if(!n.invertedIndex||!n.documents)throw new Error("Inverted index not available");return ke(n.invertedIndex,n.documents,e,i,n.config).map(c=>_(c,e,t,n,r)).filter(c=>c!==null).sort((c,l)=>l.score-c.score).slice(0,s)}function gt(n,e,s,t,i){const r=n.config,o={exactMatch:!1,maxEditDistance:1,proximityBonus:1.5,maxProximityDistance:3,useTranspositions:r.features.includes("transpositions")},c=new Map;for(const d of e.phrases)for(const f of n.base){const g=Ue(f,d,o);if(g.matched){const y=c.get(f),b=g.score*o.proximityBonus;y?c.set(f,{score:Math.max(y.score,b),phraseCount:y.phraseCount+1}):c.set(f,{score:b,phraseCount:1})}}let l=new Map;if(e.terms.length>0){const d=e.terms.join(" "),f=r.languages.map(g=>n.languageProcessors.get(g)).filter(g=>g!==void 0);for(const g of f){const y=g.normalize(d);he(y,n,l,g.language),ue(y,n,l,g.language),fe(y,g,n,l),ge(y,n,l,g.language,r.ngramSize),(r.features.includes("missing-letters")||r.features.includes("extra-letters")||r.features.includes("transpositions"))&&de(y,n,l,g,r)}}const h=new Map;for(const[d,f]of c.entries()){const g={display:d,baseWord:d,isSynonym:!1,score:f.score};l.get(d)&&(g.score=Math.min(1,g.score*1.2)),h.set(d,g)}for(const[d,f]of l.entries())if(!h.has(d)){const g=_(f,e.terms.join(" "),t,n,i);g&&(g.score*=.8,h.set(d,g))}const u=Array.from(h.values()).filter(d=>d.score>=t).sort((d,f)=>f.score-d.score).slice(0,s);return n._cache&&n._cache.set(e.original,u,s,i),u}function $(n){const e={version:"1.0",base:n.base,variantToBase:Array.from(n.variantToBase.entries()).map(([s,t])=>[s,Array.from(t)]),phoneticToBase:Array.from(n.phoneticToBase.entries()).map(([s,t])=>[s,Array.from(t)]),ngramIndex:Array.from(n.ngramIndex.entries()).map(([s,t])=>[s,Array.from(t)]),synonymMap:Array.from(n.synonymMap.entries()).map(([s,t])=>[s,Array.from(t)]),config:n.config,languageProcessorNames:Array.from(n.languageProcessors.keys())};return n.invertedIndex&&(e.invertedIndex={termToPostings:Array.from(n.invertedIndex.termToPostings.entries()),phoneticToPostings:Array.from(n.invertedIndex.phoneticToPostings.entries()),ngramToPostings:Array.from(n.invertedIndex.ngramToPostings.entries()),synonymToPostings:Array.from(n.invertedIndex.synonymToPostings.entries()),totalDocs:n.invertedIndex.totalDocs,avgDocLength:n.invertedIndex.avgDocLength}),n.documents&&(e.documents=n.documents),JSON.stringify(e)}async function pe(n){const e=JSON.parse(n),s=new Map(e.variantToBase.map(([l,h])=>[l,new Set(h)])),t=new Map(e.phoneticToBase.map(([l,h])=>[l,new Set(h)])),i=new Map(e.ngramIndex.map(([l,h])=>[l,new Set(h)])),r=new Map(e.synonymMap.map(([l,h])=>[l,new Set(h)])),{LanguageRegistry:a}=await Promise.resolve().then(()=>ye),o=new Map;for(const l of e.languageProcessorNames){const h=a.getProcessor(l);h&&o.set(l,h)}const c={base:e.base,variantToBase:s,phoneticToBase:t,ngramIndex:i,synonymMap:r,languageProcessors:o,config:e.config};if(e.invertedIndex&&(c.invertedIndex={termToPostings:new Map(e.invertedIndex.termToPostings),phoneticToPostings:new Map(e.invertedIndex.phoneticToPostings),ngramToPostings:new Map(e.invertedIndex.ngramToPostings),synonymToPostings:new Map(e.invertedIndex.synonymToPostings),totalDocs:e.invertedIndex.totalDocs,avgDocLength:e.invertedIndex.avgDocLength}),e.documents&&(c.documents=e.documents),e.config.enableCache!==!1){const l=e.config.cacheSize||100;c._cache=new B(l)}return c}function dt(n,e="fuzzy-search-index"){if(typeof localStorage>"u")throw new Error("localStorage is not available");const s=$(n);localStorage.setItem(e,s)}async function pt(n="fuzzy-search-index"){if(typeof localStorage>"u")throw new Error("localStorage is not available");const e=localStorage.getItem(n);return e?await pe(e):null}function mt(n){const e=$(n);return new Blob([e]).size}function G(n,e={}){const{minLength:s=2,splitWords:t=!0,stopWords:i=!1,overlap:r=0,chunkSize:a=0,splitOn:o="word",format:c="string",removeNumbers:l=!1,caseSensitive:h=!1}=e;let u=n;switch(c){case"base64":try{u=atob(n)}catch(f){return console.error("Failed to decode base64:",f),[]}break;case"html":u=yt(n);break;case"json":u=bt(n);break;case"url":throw new Error("URL format requires async. Use dataToIndexAsync() instead.")}a>0&&(u=wt(u,a,r,o).join(" "));let d=[];if(t?d=u.split(/[\s\-_.,;:!?()[\]{}'"\/\\]+/).filter(f=>f.length>0):d=[u],d=d.map(f=>(f=f.replace(/^[^\p{L}\p{N}]+|[^\p{L}\p{N}]+$/gu,""),h||(f=f.toLowerCase()),f)).filter(f=>!(f.length<s||l&&/^\d+$/.test(f))),i&&Array.isArray(i)){const f=new Set(i.map(g=>g.toLowerCase()));d=d.filter(g=>!f.has(g.toLowerCase()))}return Array.from(new Set(d))}function yt(n){let e=n.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi," ");return e=e.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi," "),e=e.replace(/<!--[\s\S]*?-->/g," "),e=e.replace(/<[^>]+>/g," "),e=e.replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&apos;/g,"'"),e=e.replace(/\s+/g," ").trim(),e}function bt(n){try{let e=function(i,r=0){r>10||(typeof i=="string"?t.push(i):Array.isArray(i)?i.forEach(a=>e(a,r+1)):typeof i=="object"&&i!==null&&Object.values(i).forEach(a=>e(a,r+1)))};const s=JSON.parse(n),t=[];return e(s),t.join(" ")}catch(e){return console.error("Failed to parse JSON:",e),""}}function wt(n,e,s,t){const i=[];if(t==="paragraph"){const r=n.split(/\n\n+/);let a="";for(const o of r)(a+o).length<=e?a+=(a?`

`:"")+o:(a&&i.push(a),a=o);a&&i.push(a)}else if(t==="sentence"){const r=n.split(/[.!?]+\s+/);let a="";for(const o of r)(a+o).length<=e?a+=(a?" ":"")+o:(a&&i.push(a),a=o);a&&i.push(a)}else{const r=n.split(/\s+/);let a="";for(const o of r)(a+" "+o).length<=e?a+=(a?" ":"")+o:(a&&i.push(a),s>0&&a?a=a.split(/\s+/).slice(-Math.ceil(s/10)).join(" ")+" "+o:a=o);a&&i.push(a)}return i}async function kt(n,e={}){const{format:s="string"}=e;if(s==="url")try{const i=await(await fetch(n)).text();return G(i,{...e,format:"html"})}catch(t){return console.error("Failed to fetch URL:",t),[]}return G(n,e)}function zt(n,e={}){const s=le(n,{config:{languages:e.languages||["german"],performance:e.performance||"balanced",maxResults:e.maxResults||5}});return{search:(t,i)=>S(s,t,i),index:s}}const vt="1.0.2";p.BaseLanguageProcessor=P,p.DEFAULT_CONFIG=x,p.DEFAULT_STOP_WORDS=te,p.EnglishProcessor=F,p.FrenchProcessor=I,p.GermanProcessor=W,p.LRUCache=q,p.LanguageRegistry=D,p.PERFORMANCE_CONFIGS=X,p.SearchCache=B,p.SpanishProcessor=R,p.VERSION=vt,p.areStringsSimilar=be,p.batchSearch=lt,p.buildFuzzyIndex=le,p.calculateDamerauLevenshteinDistance=M,p.calculateHighlights=V,p.calculateLevenshteinDistance=C,p.calculateNgramSimilarity=j,p.createFuzzySearch=zt,p.dataToIndex=G,p.dataToIndexAsync=kt,p.deserializeIndex=pe,p.distanceToSimilarity=J,p.filterStopWords=se,p.findWordBoundaryMatches=re,p.formatHighlightedHTML=Ne,p.getAccentVariants=Ae,p.getSerializedSize=mt,p.getStopWordsForLanguages=Re,p.getSuggestions=S,p.hasAccents=Me,p.isStopWord=Ie,p.isWordBoundary=ne,p.loadIndexFromLocalStorage=pt,p.matchesAtWordBoundary=ie,p.matchesWildcard=oe,p.matchesWord=U,p.mergeConfig=Z,p.normalizeForComparison=Oe,p.removeAccents=N,p.saveIndexToLocalStorage=dt,p.serializeIndex=$,Object.defineProperty(p,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=fuzzyfindjs.min.js.map
